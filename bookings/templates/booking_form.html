{% extends "base.html" %}
{% load static %}

{% block page_header %}
<div class="container header-container">
    <div class="row">
        <div class="col"></div>
    </div>
</div>
{% endblock %}

{% block content %}

<!-- Profile-->
    <div class="border border-2">
        <h1 class="display-4 text-center py-3">Update Your Account Details</h1>
        <div class="pb-5">
          <div class="container col-md-6 col-lg-3">
            <form method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              {% load crispy_forms_tags %}
              {{ form | crispy }}

              <div class="form-group">
                <label for="card-element">Card Booking details</label>
                <div id="card-element" class="form-control">
                  <!-- A Stripe Element will be inserted here. -->
                </div>
              </div>
                <!-- Used to display form errors -->
              <div class="mb-3 text-danger" id="card-errors" role="alert"></div>
              <div class="container pt-4">
                  <div class="row-flex d-flex justify-content-around text-center">
                  <button class="btn btn-primary col-4" type="submit">Book</button>
              </div>
            </form>
          </div>
        </div>
      </div>
{% endblock %}

{% block postloadjs %}
      {{block.super}}
      {{stripe_public_key|json_script:"id_stripe_public_key" }}
      {{client_secret|json_script:"id_client_secret" }}
      <script src="{% static 'bookings/js/stripe_elements.js' %}"></script>
{% endblock %}